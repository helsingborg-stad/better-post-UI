var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});const BetterPostUi={};BetterPostUi.Order=($=>{var ajaxPostTimer;function Order(){this.init(),$('[data-action="better-post-ui-order-up"]').on("click",(function(e){var li=$(e.target).parents("li").first()[0];this.moveUp(li)}).bind(this)),$('[data-action="better-post-ui-order-down"]').on("click",(function(e){var li=$(e.target).parents("li").first()[0];this.moveDown(li)}).bind(this))}return __name(Order,"Order"),Order.prototype.init=function(){$(".better-post-ui-menu-order-list").sortable({stop:__name((e,ui)=>{BetterPostUi.Order.reindex()},"stop")}).bind(this)},Order.prototype.moveUp=function(element){var current=$(element);current.prev().before(current),this.reindex()},Order.prototype.moveDown=function(element){var current=$(element);current.next().after(current),this.reindex()},Order.prototype.reindex=function(){$(".better-post-ui-menu-order-list").find("li").each(function(index,element){$(this).find('[name*="menu_order"]').val(index),$(this).attr("data-order-id",index)}),this.asyncSave()},Order.prototype.asyncSave=function(){clearTimeout(ajaxPostTimer);var pageOrder=[];$(".better-post-ui-menu-order-list").find("li").each((index,element)=>{pageOrder[index]={postId:$(element).attr("data-post-id"),orderId:$(element).attr("data-order-id")}}),this.ajaxData={action:"better_post_ui_order_pages",jsonPageOrder:JSON.stringify(pageOrder)},ajaxPostTimer=window.setTimeout((function(){$.post(ajaxurl,this.ajaxData,response=>{})}).bind(this),700)},new Order})(jQuery);
//# sourceMappingURL=order.Bs-Q6l0F.js.map
