{"version":3,"file":"parent.Bfzqs4z7.js","sources":["../../../source/js/parent.js"],"sourcesContent":["const BetterPostUi = {};\nBetterPostUi.Parent = (($) => {\n\tvar typingTimer;\n\n\tfunction Parent() {\n\t\t$('[data-action=\"better-post-ui-parent-show-all\"]').on(\n\t\t\t'click',\n\t\t\tfunction (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.showList();\n\t\t\t}.bind(this),\n\t\t);\n\n\t\t$('[data-action=\"better-post-ui-parent-show-search\"]').on(\n\t\t\t'click',\n\t\t\tfunction (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.showSearch();\n\t\t\t}.bind(this),\n\t\t);\n\n\t\t$('[data-action=\"better-post-ui-parent-search\"]').on(\n\t\t\t'input',\n\t\t\tfunction (e) {\n\t\t\t\tclearTimeout(typingTimer);\n\n\t\t\t\ttypingTimer = setTimeout(\n\t\t\t\t\tfunction () {\n\t\t\t\t\t\tthis.search($(e.target).closest('[data-action=\"better-post-ui-parent-search\"]').val());\n\t\t\t\t\t}.bind(this),\n\t\t\t\t\t300,\n\t\t\t\t);\n\t\t\t}.bind(this),\n\t\t);\n\n\t\t$(document).on(\n\t\t\t'click',\n\t\t\t'[data-better-post-ui-set-parent-id]',\n\t\t\tfunction (e) {\n\t\t\t\tvar $element = $(e.target).closest('[data-better-post-ui-set-parent-id]');\n\t\t\t\tvar id = $element.attr('data-better-post-ui-set-parent-id');\n\t\t\t\tvar title = $element.text();\n\n\t\t\t\tthis.setParent(id, title);\n\t\t\t}.bind(this),\n\t\t);\n\t}\n\n\tParent.prototype.showList = () => {\n\t\t$('.better-post-ui-parent-search').hide();\n\t\t$('.better-post-ui-parent-list').show();\n\t};\n\n\tParent.prototype.showSearch = () => {\n\t\t$('.better-post-ui-parent-list').hide();\n\t\t$('.better-post-ui-parent-search').show();\n\t};\n\n\tParent.prototype.setParent = function (id, title) {\n\t\t$('[data-action=\"better-post-ui-parent-search\"]').val('');\n\t\t$('.better-post-ui-search-parent-list').remove();\n\n\t\t$('.better-post-ui-parent-list #parent_id').val(id);\n\n\t\tthis.showList();\n\t};\n\n\tParent.prototype.search = (query, postType) => {\n\t\tclearTimeout(typingTimer);\n\t\t$('.better-post-ui-search-parent-list').remove();\n\n\t\tif (query === '') {\n\t\t\treturn;\n\t\t}\n\n\t\t$.post(\n\t\t\tajaxurl,\n\t\t\t{ action: 'better_post_ui_search_parent', query: query, postType: $('[name=\"post_type\"]').val() },\n\t\t\t(res) => {\n\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t$('[data-action=\"better-post-ui-parent-search\"]').after('<ul class=\"better-post-ui-search-parent-list\"></ul>');\n\n\t\t\t\t$.each(res, (index, item) => {\n\t\t\t\t\t$('.better-post-ui-search-parent-list').append(\n\t\t\t\t\t\t'<li data-better-post-ui-set-parent-id=\"' +\n\t\t\t\t\t\t\titem.ID +\n\t\t\t\t\t\t\t'\">\\\n                    ' +\n\t\t\t\t\t\t\titem.post_title +\n\t\t\t\t\t\t\t'\\\n                </li>',\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t},\n\t\t\t'JSON',\n\t\t);\n\t};\n\n\treturn new Parent();\n})(jQuery);\n"],"names":[],"mappings":"iHACwB,GAAM,CAC7B,IAAI,YAEJ,SAAS,QAAS,CACjB,EAAE,gDAAgD,EAAE,GACnD,SACA,SAAU,EAAG,CACZ,EAAE,eAAc,EAChB,KAAK,SAAQ,CACd,GAAE,KAAK,IAAI,CACd,EAEE,EAAE,mDAAmD,EAAE,GACtD,SACA,SAAU,EAAG,CACZ,EAAE,eAAc,EAChB,KAAK,WAAU,CAChB,GAAE,KAAK,IAAI,CACd,EAEE,EAAE,8CAA8C,EAAE,GACjD,SACA,SAAU,EAAG,CACZ,aAAa,WAAW,EAExB,YAAc,YACb,UAAY,CACX,KAAK,OAAO,EAAE,EAAE,MAAM,EAAE,QAAQ,8CAA8C,EAAE,KAAK,CACtF,GAAE,KAAK,IAAI,EACX,GACL,CACG,GAAE,KAAK,IAAI,CACd,EAEE,EAAE,QAAQ,EAAE,GACX,QACA,uCACA,SAAU,EAAG,CACZ,IAAI,SAAW,EAAE,EAAE,MAAM,EAAE,QAAQ,qCAAqC,EACpE,GAAK,SAAS,KAAK,mCAAmC,EACtD,MAAQ,SAAS,KAAI,EAEzB,KAAK,UAAU,GAAI,KAAK,CACzB,GAAE,KAAK,IAAI,CACd,CACC,CA1CS,+BA4CT,OAAO,UAAU,SAAW,IAAM,CACjC,EAAE,+BAA+B,EAAE,KAAI,EACvC,EAAE,6BAA6B,EAAE,KAAI,CACtC,EAEA,OAAO,UAAU,WAAa,IAAM,CACnC,EAAE,6BAA6B,EAAE,KAAI,EACrC,EAAE,+BAA+B,EAAE,KAAI,CACxC,EAEA,OAAO,UAAU,UAAY,SAAU,GAAI,MAAO,CACjD,EAAE,8CAA8C,EAAE,IAAI,EAAE,EACxD,EAAE,oCAAoC,EAAE,OAAM,EAE9C,EAAE,wCAAwC,EAAE,IAAI,EAAE,EAElD,KAAK,SAAQ,CACd,EAEA,OAAO,UAAU,OAAS,CAAC,MAAO,WAAa,CAC9C,aAAa,WAAW,EACxB,EAAE,oCAAoC,EAAE,OAAM,EAE1C,QAAU,IAId,EAAE,KACD,QACA,CAAE,OAAQ,+BAAgC,MAAc,SAAU,EAAE,oBAAoB,EAAE,KAAK,EAC9F,KAAQ,CACR,aAAa,WAAW,EACxB,EAAE,8CAA8C,EAAE,MAAM,qDAAqD,EAE7G,EAAE,KAAK,IAAK,CAAC,MAAO,OAAS,CAC5B,EAAE,oCAAoC,EAAE,OACvC,0CACC,KAAK,GACL,yBAEA,KAAK,WACL,uBAEP,CACI,CAAC,CACF,EACA,MACH,CACC,EAEO,IAAI,MACZ,GAAG,MAAM"}